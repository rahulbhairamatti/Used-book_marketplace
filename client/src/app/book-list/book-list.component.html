<!-- <h1>Available Books</h1>

<table class="book-table">
  <thead>
    <tr>
      <th>Image</th> 
      <th>Title</th>
      <th>Author</th>
      <th>Genre</th>
      <th>Condition</th>
      <th>Price</th>
      <th>Actions</th>
      <th>Cart</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let book of books">
       <td><img [src]="book.image_url" alt="{{ book.title }}" style="max-width: 50px; max-height: 50px;"></td> 
      <td>{{ book.title }}</td>
      <td>{{ book.author }}</td>
      <td>{{ book.genre }}</td>
      <td>{{ book.book_condition }}</td>
      <td>{{ book.price | currency:'USD' }}</td>
      <td><a [routerLink]="['/products', book.product_id]">View Details</a></td>
      <td>
        <ng-container *ngIf="!book.isSold; else soldIndicator">
          <button (click)="addToCart(book)">Add to Cart</button>
        </ng-container>
        <ng-template #soldIndicator>
          <span class="sold-indicator">Sold</span>
        </ng-template>
      </td>
    </tr>
  </tbody>
</table>

<p *ngIf="!books || books.length === 0">No books available yet.</p> -->

<!-- <h1>Available Books</h1>

<table class="book-table">
    <thead>
        <tr>
            <th>Image</th>
            <th>Title</th>
            <th>Author</th>
            <th>Genre</th>
            <th>Condition</th>
            <th>Price</th>
            <th>Actions</th>
            <th>Cart</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let book of books">
            <td><img [src]="book.image_url" alt="{{ book.title }}" style="max-width: 50px; max-height: 50px;"></td>
            <td>{{ book.title }}</td>
            <td>{{ book.author }}</td>
            <td>{{ book.genre }}</td>
            <td>{{ book.book_condition }}</td>
            <td>{{ book.price | currency:'USD' }}</td>
            <td><a [routerLink]="['/products', book.product_id]">View Details</a></td>
            <td>
                <ng-container *ngIf="!book.isSold; else soldIndicator">  <button (click)="addToCart(book)">Add to Cart</button> </ng-container> <ng-template #soldIndicator>
                    <span class="sold-indicator">Sold</span>  </ng-template>
            </td>
        </tr>
    </tbody>
</table>

<p *ngIf="!books || books.length === 0">No books available yet.</p> -->
<h1>Available Books</h1>

<table class="book-table">
    <thead>
        <tr>
          <!-- <th>Image</th> -->
            <th>Title</th>
            <th>Author</th>
            <th>Genre</th>
            <th>Condition</th>
            <th>Price</th>
            <th>Seller Name</th>  <th>Actions</th>
            <th>Cart</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let book of books">
          <!-- <td>
            <img *ngIf="book.image_url" [src]="book.image_url" alt="{{ book.title }}" class="book-list-image">
            <span *ngIf="!book.image_url">No Image</span> </td> -->
            <td>{{ book.title }}</td>
            <td>{{ book.author }}</td>
            <td>{{ book.genre }}</td>
            <td>{{ book.book_condition }}</td>
            <td>{{ book.price | currency:'USD' }}</td>
            <td>{{ book.seller_name}}</td>  <td><a [routerLink]="['/products', book.product_id]">View Details</a></td>
            <td>
                <ng-container *ngIf="!book.isSold; else soldIndicator">  <button (click)="addToCart(book)">Add to Cart</button>
                </ng-container>
                <ng-template #soldIndicator>
                    <span class="sold-indicator">Sold</span>
                </ng-template>
            </td>
        </tr>
    </tbody>
</table>

<p *ngIf="!books || books.length === 0">No books available yet.</p>
<!-- <h1>Available Books</h1>

<table class="book-table">
  <thead>
    <tr>
      <th>Image</th>
      <th>Title</th>
      <th>Author</th>
      <th>Genre</th>
      <th>Condition</th>
      <th>Price</th>
      <th>Actions</th>
      <th>Cart</th>  </tr>
  </thead>
  <tbody>
    <tr *ngFor="let book of books">
      <td><img [src]="book.image_url" alt="{{ book.title }}" style="max-width: 50px; max-height: 50px;"></td>
      <td>{{ book.title }}</td>
      <td>{{ book.author }}</td>
      <td>{{ book.genre }}</td>
      <td>{{ book.book_condition }}</td>
      <td>{{ book.price | currency:'USD' }}</td>
      <td><a [routerLink]="['/products', book.product_id]">View Details</a></td>
       <td><button (click)="addToCart(book)">Add to Cart</button></td> </tr> 
      <td>
        <button
          (click)="addToCart(book)"
          [disabled]="book.isSold"  >
          {{ book.isSold ? 'Sold' : 'Add to Cart' }}  </button>
      </td> 
    </tbody>
</table>

<p *ngIf="!books || books.length === 0">No books available yet.</p> -->
<!-- <h1>Available Books</h1>

<table class="book-table">
  <thead>
    <tr>
      <th>Title</th>
      <th>Author</th>
      <th>Genre</th>
      <th>Condition</th>
      <th>Price</th>
      <th>Actions</th>
      <th>Cart</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let book of books">
      <td>{{ book.title }}</td>
      <td>{{ book.author }}</td>
      <td>{{ book.genre }}</td>
      <td>{{ book.book_condition }}</td>
      <td>{{ book.price | currency:'USD' }}</td>
      <td><a [routerLink]="['/products', book.product_id]">View Details</a></td>
      <td>
        <ng-container *ngIf="book.quantity > 0; else soldIndicator">
          <ng-container *ngIf="cartQuantities[book.product_id] === 0; else quantityControls">
            <button (click)="addToCart(book)">Add to Cart</button>
          </ng-container>
          <ng-template #quantityControls>
            <div class="quantity-control">
              <button (click)="decreaseQuantity(book)" [disabled]="cartQuantities[book.product_id] <= 0">-</button>
              <span>{{ cartQuantities[book.product_id] }}</span>
              <button (click)="increaseQuantity(book)" [disabled]="cartQuantities[book.product_id] >= book.quantity">+</button>
              <button (click)="addToCart(book)" [disabled]="cartQuantities[book.product_id] === 0">Add to Cart</button>
            </div>
          </ng-template>
        </ng-container>
        <ng-template #soldIndicator>
          <span class="sold-indicator">Sold</span>
        </ng-template>
      </td>
    </tr>
  </tbody>
</table>

<p *ngIf="!books || books.length === 0">No books available yet.</p> -->
<!-- <h1>Available Books</h1>

<table class="book-table">
  <thead>
    <tr>
      <th>Title</th>
      <th>Author</th>
      <th>Genre</th>
      <th></th>
      <th>Condition</th>
      <th>Price</th>
      <th>Actions</th>
      <th>Cart</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let book of books">
      <td>{{ book.title }}</td>
      <td>{{ book.author }}</td>
      <td>{{ book.genre }}</td>
      <td>{{ book.book_condition }}</td>
      <td>{{ book.price | currency:'USD' }}</td>
      <td><a [routerLink]="['/product', book.product_id]">View Details</a></td>
      <td>
        <ng-container *ngIf="!book.isSold; else soldIndicator">  <button (click)="addToCart(book)">Add to Cart</button>
        </ng-container>
        <ng-template #soldIndicator>
          <span class="sold-indicator">Sold</span>
        </ng-template>
      </td>
    </tr>
  </tbody>
</table>

<p *ngIf="!books || books.length === 0">No books available yet.</p> -->
<!-- <table class="book-table">
  <thead>
    <tr>
      <th>Image</th>
      <th>Title</th>
      <th>Author</th>
      <th>Genre</th>
      <th>Book Condition</th> 
       <th>Price</th>
      <th>Actions</th>
      <th>Cart</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let book of books">
      <td><img [src]="book.image_url" alt="{{ book.title }}" style="max-width: 50px; max-height: 50px;"></td>
      <td>{{ book.title }}</td>
      <td>{{ book.author }}</td>
      <td>{{ book.genre }}</td>
      <td>{{ book.condition }}</td> 
      <td>{{ book.price | currency:'USD' }}</td>
      <td><a [routerLink]="['/products', book.product_id]">View Details</a></td>
      <td><button (click)="addToCart(book)">Add to Cart</button></td>
    </tr>
  </tbody>
</table>

<p *ngIf="!books || books.length === 0">No books available yet.</p> -->